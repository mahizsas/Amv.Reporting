@model ReportResultPreview
@{
    Layout = null;
}

<style>
    @Model.Css
</style>

<div id="javascriptError"></div>

@if (Model.ReportType == ReportType.Table)
{
    <table id="report"></table>
}
@if (Model.ReportType == ReportType.LineChart)
{
    <div class="row">
        <div class="col-md-8 graph-container">
            <div id="report" style="height: 600px;"></div>
        </div>
        <div class="col-md-4" id="choices">

        </div>
    </div>
}

<script type="text/javascript">
    try {
        var columns = @Html.Raw(Model.Columns);
        var data = @Html.Raw(Model.Data);
        @Html.Raw(Model.JavaScript)
    } catch (e) {
        $('#javascriptError').html('<span class="glyphicon glyphicon-remove-circle"></span> JavaScript Error: ' + e.message).addClass('alert-danger javascriptError');
    } 
</script>