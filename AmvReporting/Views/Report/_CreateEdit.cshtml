@model ReportDetailsViewModel

@Html.AntiForgeryToken()
<!-- Nav tabs -->
<ul class="nav nav-tabs">
    <li><a href="#basic" data-toggle="tab">Basic Details</a></li>
    <li><a href="#code" data-toggle="tab">Code</a></li>
</ul>

<!-- Tab panes -->
<div class="tab-content">
    <div class="tab-pane active" id="basic">
        <div class="form-group">
            @Html.LabelFor(m => m.Title, new { @class = "control-label" })
            @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Title)
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.LinkName, new { @class = "control-label" })
            @Html.TextBoxFor(m => m.LinkName, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.LinkName)
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.DatabaseId, new { @class= "control-label"} )
            @Html.DropDownListFor(m => m.DatabaseId, Model.PossibleDatabases, "Choose...", new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.DatabaseId)
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.ReportType, new { @class = "control-label" })
            @Html.DropDownListFor(m => m.ReportType, new ReportType().ToSelectListItems(), "Choose...", new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.ReportType)
        </div>
        <div class="form-group">
            @Html.LabelFor(m => m.Description, new { @class = "control-label" })
            @Html.TextAreaFor(m => m.Description, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Description)
        </div>
    </div>
    <div class="tab-pane" id="code">
        <div class="panel-body">
            <div class="row">
                <div class="col-md-5">
                    <div class="form-group">
                        @Html.LabelFor(m => m.Sql, new { @class = "control-label" })
                        @Html.TextAreaFor(m => m.Sql, new { @class = "form-control", rows = 10 })
                        @Html.ValidationMessageFor(m => m.Sql)
                        <a id="previewJson">Preview Data >></a>
                    </div>
                </div>
                <div class="col-md-6" id="jsonPreview" style="overflow-y: scroll; height: 300px;"></div>
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.JavaScript, new { @class = "control-label" })
                @Html.TextAreaFor(m => m.JavaScript, new { @class = "form-control", rows = 10 })
                @Html.ValidationMessageFor(m => m.JavaScript)
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Css, new { @class = "control-label" })
                @Html.TextAreaFor(m => m.Css, new { @class = "form-control", rows = 7 })
                @Html.ValidationMessageFor(m => m.Css)
            </div>
        </div>
    </div>
</div>