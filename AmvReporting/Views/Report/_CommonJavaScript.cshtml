<script language="javascript">
    $(document).ready(function() {
        $('#previewData').on('click', function () {
            var postData = {};
            postData['sql'] = $('#Sql').val();
            postData['databaseId'] = $('#DatabaseId').val();

            $.ajax({
                type: 'POST',
                url: '@Url.Action(MVC.Preview.Data())',
                data: postData,
                error: function () {
                    $.showWarning('Communication Error: could not connect to the server');
                },
                success: function (data) {
                    $('#previewContainer').html(data);
                },
            });
        });
        $('#previewFullReport').on('click', function() {
            var postData = {};
            postData['ReportType'] = $('#ReportType').val();
            postData['DatabaseId'] = $('#DatabaseId').val();
            postData['Sql'] = $('#Sql').val();
            postData['JavaScript'] = $('#JavaScript').val();
            postData['Css'] = $('#Css').val();

            $.ajax({
                type: 'POST',
                url: '@Url.Action(MVC.Preview.Report())',
                data: postData,
                error: function () {
                    $.showWarning('Communication Error: could not connect to the server');
                },
                success: function (data) {
                    $('#previewContainer').html(data);
                },
            });
        });
    });
</script>